CodeMirror.defineMode("markdown",function(e,t){function y(e,t,n){return t.f=t.inline=n,n(e,t)}function b(e,t,n){return t.f=t.block=n,n(e,t)}function w(e){return e.em=!1,e.strong=!1,null}function E(e,t){var n;if(t.indentationDiff>=4)return t.indentation-=t.indentationDiff,e.skipToEnd(),i;if(e.eatSpace())return null;if(e.peek()==="#"||e.match(m))t.header=!0;else if(e.eat(">"))t.indentation++,t.quote=!0;else{if(e.peek()==="[")return y(e,t,L);if(e.match(p,!0))return u;if(n=e.match(d,!0)||e.match(v,!0))return t.indentation+=n[0].length,o}return y(e,t,t.inline)}function S(e,t){var r=n.token(e,t.htmlState);return r==="tag"&&t.htmlState.type!=="openTag"&&!t.htmlState.context&&(t.f=N,t.block=E),r}function x(e){var t=[];return e.strong?t.push(e.em?h:c):e.em&&t.push(l),e.header&&t.push(r),e.quote&&t.push(s),t.length?t.join(" "):null}function T(e,t){return e.match(g,!0)?x(t):undefined}function N(e,t){var n=t.text(e,t);if(typeof n!="undefined")return n;var r=e.next();if(r==="\\")return e.next(),x(t);if(r==="`")return y(e,t,M(i,"`"));if(r==="[")return y(e,t,C);if(r==="<"&&e.match(/^\w/,!1))return e.backUp(1),b(e,t,S);var s=x(t);return r==="*"||r==="_"?e.eat(r)?(t.strong=!t.strong)?x(t):s:(t.em=!t.em)?x(t):s:x(t)}function C(e,t){while(!e.eol()){var n=e.next();n==="\\"&&e.next();if(n==="]")return t.inline=t.f=k,a}return a}function k(e,t){e.eatSpace();var n=e.next();return n==="("||n==="["?y(e,t,M(f,n==="("?")":"]")):"error"}function L(e,t){return e.match(/^[^\]]*\]:/,!0)?(t.f=A,a):y(e,t,N)}function A(e,t){return e.eatSpace(),e.match(/^[^\s]+/,!0),t.f=t.inline=N,f}function O(e){return O[e]||(O[e]=new RegExp("^(?:[^\\\\\\"+e+"]|\\\\.)*(?:\\"+e+"|$)")),O[e]}function M(e,t,n){return n=n||N,function(r,i){return r.match(O(t)),i.inline=i.f=n,e}}var n=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),r="header",i="comment",s="quote",o="string",u="hr",a="link",f="string",l="em",c="strong",h="emstrong",p=/^([*\-=_])(?:\s*\1){2,}\s*$/,d=/^[*\-+]\s+/,v=/^[0-9]+\.\s+/,m=/^(?:\={3,}|-{3,})$/,g=/^[^\[*_\\<>`]+/;return{startState:function(){return{f:E,block:E,htmlState:n.startState(),indentation:0,inline:N,text:T,em:!1,strong:!1,header:!1,quote:!1}},copyState:function(e){return{f:e.f,block:e.block,htmlState:CodeMirror.copyState(n,e.htmlState),indentation:e.indentation,inline:e.inline,text:e.text,em:e.em,strong:e.strong,header:e.header,quote:e.quote}},token:function(e,t){if(e.sol()){if(e.match(/^\s*$/,!0))return w(t);t.header=!1,t.quote=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;t.indentationDiff=n-t.indentation,t.indentation=n;if(n>0)return null}return t.f(e,t)},blankLine:w,getType:x}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown");